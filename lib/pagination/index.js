!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../shared"),require("vue"),require("../config-provider"),require("../select"),require("../icon"),require("../popover"));else if("function"==typeof define&&define.amd)define(["../shared","vue","../config-provider","../select","../icon","../popover"],t);else{var n="object"==typeof exports?t(require("../shared"),require("vue"),require("../config-provider"),require("../select"),require("../icon"),require("../popover")):t(e["../shared"],e.vue,e["../config-provider"],e["../select"],e["../icon"],e["../popover"]);for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(self,((e,t,n,a,r,i)=>(()=>{"use strict";var o={2717:e=>{e.exports=n},6870:e=>{e.exports=r},5537:e=>{e.exports=i},6422:e=>{e.exports=a},4212:t=>{t.exports=e},748:e=>{e.exports=t}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,u),n.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{u.r(c),u.d(c,{BkPagination:()=>m,default:()=>g});var e=u(4212);function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=u(748),i=u(2717),o=u(6422),l=u.n(o),s=u(6870),d=u(5537),f=u.n(d);var p={modelValue:e.PropTypes.number.def(1),count:e.PropTypes.number.def(0).isRequired,limit:e.PropTypes.number.def(10),limitList:e.PropTypes.arrayOf(Number).def([10,20,50,100]),showLimit:e.PropTypes.bool.def(!0),type:e.PropTypes.oneOf(["default","compact"]).def("default"),location:e.PropTypes.oneOf(["left","right"]).def("right"),align:e.PropTypes.oneOf(["left","center","right"]).def("left"),size:e.PropTypes.size(),small:e.PropTypes.bool.def(!1),showTotalCount:e.PropTypes.bool.def(!0),prevText:e.PropTypes.string,nextText:e.PropTypes.string,disabled:e.PropTypes.bool.def(!1),beforeChange:e.PropTypes.func,layout:e.PropTypes.custom((function(e){var t={total:!0,list:!0,limit:!0};return e.some((function(e){return t[e]}))}),"layout 的值只支持 * total、list、limit *").def(["total","list","limit"])};const v=(0,r.defineComponent)({name:"Pagination",props:p,emits:["update:modelValue","change","update:limit","limitChange"],setup:function(e,t){var n=(0,i.useLocale)("pagination"),u=(0,r.ref)(0),c=(0,r.toRefs)(e),d=c.count,p=c.limit,v=function(e){return function(t){var n=t.isFirst,a=t.isLast,i=(0,r.getCurrentInstance)().props;return i.showTotalCount?(0,r.createVNode)("div",(0,r.mergeProps)({class:{"bk-pagination-total":!0,"is-first":n,"is-last":a}},{disabled:i.disabled}),[e.value.total,(0,r.createVNode)("div",{class:"bk-pagination-total-num"},[i.count]),e.value.strip]):null}}(n),m=function(){var e=(0,r.getCurrentInstance)().proxy,t=(0,r.ref)(1),n=(0,r.computed)((function(){return 1===t.value})),a=(0,r.computed)((function(){return t.value===e.totalPageNum})),i=(0,r.ref)(!1),o=(0,r.ref)(!1),l=(0,r.computed)((function(){i.value=!1,o.value=!1;var n=[];if(e.totalPageNum<=7){for(var a=2;a<=e.totalPageNum-1;a++)n.push(a);return n}var r=Math.floor(2.5);e.totalPageNum>5&&(i.value=t.value-r>2,o.value=t.value+r<e.totalPageNum-1);for(var l=Math.min(e.totalPageNum-5,Math.max(2,t.value-r)),u=l;u<l+5;u++)n.push(u);return n}));(0,r.watch)((function(){return e.modelValue}),(function(n){(0,r.nextTick)((function(){n>=1&&n<=e.totalPageNum?t.value=n:t.value=n<1?1:e.totalPageNum}))}),{immediate:!0}),(0,r.nextTick)((function(){(0,r.watch)((function(){return e.totalPageNum}),(function(e){t.value>e&&(t.value=e)}))}));var u=function(){n.value||(t.value=t.value-1)},c=function(){a.value||(t.value=t.value+1)},d=function(e){e!==t.value&&(t.value=e)},f=function(){t.value=Math.max(1,t.value-5)},p=function(){t.value=Math.min(e.totalPageNum,t.value+5)};return{current:t,render:function(v){var m=v.isFirst,g=v.isLast;return(0,r.createVNode)("div",{class:{"bk-pagination-list":!0,"is-first":m,"is-last":g}},[(0,r.createVNode)("div",{class:{"bk-pagination-list-pre":!0,"is-disabled":n.value},onClick:u},[e.prevText||(0,r.createVNode)(s.AngleLeft,null,null)]),(0,r.createVNode)("div",{class:{"bk-pagination-list-item":!0,"is-active":1===t.value},key:"1",onClick:function(){return d(1)}},[(0,r.createTextVNode)("1")]),i.value&&(0,r.createVNode)("div",{key:"pre-batch",class:"bk-pagination-list-pre-batch",onClick:f},[(0,r.createVNode)(s.Ellipsis,null,null)]),l.value.map((function(e){return(0,r.createVNode)("div",{class:{"bk-pagination-list-item":!0,"is-active":t.value===e},key:e,onClick:function(){return d(e)}},[e])})),o.value&&(0,r.createVNode)("div",{key:"next-batch",class:"bk-pagination-list-next-batch",onClick:p},[(0,r.createVNode)(s.Ellipsis,null,null)]),e.totalPageNum>1&&(0,r.createVNode)("div",{class:{"bk-pagination-list-item":!0,"is-active":t.value===e.totalPageNum},key:"last",onClick:function(){return d(e.totalPageNum)}},[e.totalPageNum]),(0,r.createVNode)("div",{class:{"bk-pagination-list-pre":!0,"is-disabled":a.value},onClick:c},[e.nextText||(0,r.createVNode)(s.AngleRight,null,null)])])}}}(),g=m.current,b=m.render,h=function(){var e=(0,r.getCurrentInstance)().proxy,t=(0,r.ref)(null),n=(0,r.ref)(!1),a=(0,r.ref)(1),i=(0,r.computed)((function(){return 1===a.value})),o=(0,r.computed)((function(){return a.value===e.totalPageNum})),l=0,u=(0,r.computed)((function(){for(var t=[],n=1;n<=e.totalPageNum;n++)t.push(n);return t}));(0,r.watch)((function(){return e.modelValue}),(function(t){(0,r.nextTick)((function(){t>=1&&t<=e.totalPageNum?a.value=t:a.value=t<1?1:e.totalPageNum,l=a.value}))}),{immediate:!0}),(0,r.nextTick)((function(){(0,r.watch)((function(){return e.totalPageNum}),(function(e){a.value>e&&(a.value=e)}))}));var c=function(){i.value||(a.value=a.value-1)},d=function(){o.value||(a.value=a.value+1)},p=function(){n.value=!0},v=function(){n.value=!1,t.value.textContent="".concat(l),l!==a.value&&(a.value=l)},m=function(t){var n=t.target,r=Number(n.textContent);!r||r<1||r>e.totalPageNum||r===a.value||(l=r)},g=function(e){["Enter","NumpadEnter"].includes(e.code)&&(e.preventDefault(),v())};return{current:a,render:function(){return(0,r.createVNode)("div",{class:"bk-pagination-small-list"},[(0,r.createVNode)("div",{class:{"bk-pagination-btn-pre":!0,"is-disabled":i.value},onClick:c},[(0,r.createVNode)(s.AngleLeft,null,null)]),(0,r.createVNode)(f(),{theme:"light",trigger:"click",arrow:!1,width:56,boundary:"body",placement:"bottom"},{default:function(){return(0,r.createVNode)("div",{class:{"bk-pagination-picker":!0,"is-focused":n.value}},[(0,r.createVNode)("span",{ref:t,class:"bk-pagination-editor",contenteditable:!0,spellcheck:"false",onFocus:p,onBlur:v,onInput:m,onKeydown:g},[a.value]),(0,r.createVNode)("span",null,[(0,r.createTextVNode)("/")]),(0,r.createVNode)("span",{class:"bk-pagination-small-list-total"},[e.totalPageNum])])},content:function(){return(0,r.createVNode)("div",{class:"bk-pagination-picker-list"},[u.value.map((function(e){return(0,r.createVNode)("div",{class:{item:!0,"is-actived":e===a.value},key:e,onClick:function(){return function(e){l=e,v()}(e)}},[e])}))])}}),(0,r.createVNode)("div",{class:{"bk-pagination-btn-next":!0,"is-disabled":o.value},onClick:d},[(0,r.createVNode)(s.AngleRight,null,null)])])}}}(),y=h.current,N=h.render,k=function(e){var t=(0,r.getCurrentInstance)().proxy,n=(0,r.ref)(t.limit);(0,r.watch)((function(){return t.limit}),(function(e){n.value=e})),(0,r.watch)((function(){return t.limitList}),(function(e){(0,r.nextTick)((function(){if(!e.includes(n.value)){var t=a(e,1);n.value=t[0]}}))}),{immediate:!0});var i=function(e){n.value=e};return{limit:n,render:function(a){var u,c,s=a.isFirst,d=a.isLast;return t.showLimit?(0,r.createVNode)("div",(0,r.mergeProps)({class:{"bk-pagination-limit":!0,"is-first":s,"is-last":d}},{disabled:t.disabled}),[(0,r.createVNode)("div",null,[e.value.eachPage]),(0,r.createVNode)(l(),{class:"bk-pagination-limit-select",clearable:!1,size:"small",withValidate:!1,modelValue:n.value,onChange:i,disabled:t.disabled},(c=u=t.limitList.map((function(e,t){return(0,r.createVNode)(o.BkOption,{value:e,label:"".concat(e),key:"".concat(t,"_").concat(e)},null)})),"function"==typeof c||"[object Object]"===Object.prototype.toString.call(c)&&!(0,r.isVNode)(c)?u:{default:function(){return[u]}})),(0,r.createVNode)("div",null,[e.value.strip])]):null}}}(n),P=k.limit,V=k.render;return(0,r.watch)([d,P,p],(function(e){var t=a(e,2),n=t[0],r=t[1],i=Math.ceil(n/r);u.value=i<1?1:i}),{immediate:!0}),(0,r.watch)(g,(function(e){t.emit("update:modelValue",e),t.emit("change",e)})),(0,r.watch)(y,(function(n){e.small&&(t.emit("update:modelValue",n),t.emit("change",n))})),(0,r.watch)(P,(function(e){t.emit("limitChange",e)})),{totalPageNum:u,renderTotal:v,renderList:b,renderLimit:V,renderSmallList:N}},render:function(){var n,a=this,i=(0,e.classes)((t(n={"bk-pagination":!0},"bk-pagination--".concat(this.size),!0),t(n,"is-align-".concat(this.align),!0),n)),o={total:this.renderTotal,list:this.small?this.renderSmallList:this.renderList,limit:this.renderLimit};return(0,r.createVNode)("div",{class:i},[this.layout.map((function(e,t){return o[e]({isFirst:0===t,isLast:t===a.layout.length-1})}))])}});var m=(0,e.withInstall)(v);const g=m})(),c})()));