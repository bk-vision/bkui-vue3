!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../shared"),require("vue"),require("../collapse-transition"),require("../icon"));else if("function"==typeof define&&define.amd)define(["../shared","vue","../collapse-transition","../icon"],t);else{var r="object"==typeof exports?t(require("../shared"),require("vue"),require("../collapse-transition"),require("../icon")):t(e["../shared"],e.vue,e["../collapse-transition"],e["../icon"]);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(self,((e,t,r,o)=>(()=>{"use strict";var n={9891:e=>{e.exports=r},6870:e=>{e.exports=o},4212:t=>{t.exports=e},748:e=>{e.exports=t}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{l.r(i),l.d(i,{BkCollapsePanel:()=>d,Collapse:()=>p,default:()=>f});var e=l(4212);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var r=l(748),o=l(9891),n=l.n(o),a=l(6870),c={list:e.PropTypes.arrayOf(e.PropTypes.any).def([]),idFiled:e.PropTypes.string.def("$index"),titleField:e.PropTypes.string.def("name"),contentField:e.PropTypes.string.def("content"),modelValue:e.PropTypes.oneOfType([e.PropTypes.arrayOf(e.PropTypes.number).def([]),e.PropTypes.arrayOf(e.PropTypes.string).def([]),e.PropTypes.number.def(-1)]),accordion:e.PropTypes.bool.def(!1)},u={itemClick:{type:Function}},s=Object.assign({name:e.PropTypes.oneOfType([e.PropTypes.number,e.PropTypes.string]).def(""),title:e.PropTypes.any,content:e.PropTypes.string,disabled:e.PropTypes.bool.def(!1),isFormList:e.PropTypes.bool.def(!1),renderDirective:(0,e.renderDirectiveType)(),modelValue:e.PropTypes.bool.def(!1),alone:e.PropTypes.bool.def(!1)},u);const d=(0,r.defineComponent)({name:"CollapsePanel",props:s,emits:["change","update:modelValue","after-leave","before-enter"],setup:function(e,t){var o=t.emit,l=t.slots,i=null,c=null,u=(0,r.ref)(e.modelValue);return(0,r.watch)((function(){return e.modelValue}),(function(e){u.value=e})),e.alone||(i=(0,r.inject)("localActiveItems"),c=(0,r.inject)("handleItemClick"),(0,r.watch)(i,(function(t){(null==t?void 0:t.length)&&(u.value=t.includes(e.name))}),{immediate:!0})),function(){var t,i,s;return(0,r.createVNode)("div",{class:"bk-collapse-item ".concat(e.disabled?"is-disabled":""," ").concat(u.value?"bk-collapse-item-active":"")},[(0,r.createVNode)("div",{onClick:function(){return function(e){var t=e.disabled,r=e.name,n=e.itemClick;if(!t){var a={name:r};u.value=!u.value,o("update:modelValue",u.value),o("change",a),"function"==typeof n?n(a):"function"==typeof c&&c({name:r})}}(e)}},[l.header?"function"==typeof l.header?l.header(r.h):l.header:(s=l.default?"function"==typeof l.default?l.default(r.h):l.default:e.title,(0,r.createVNode)("div",{class:"bk-collapse-header"},[(0,r.createVNode)("span",{class:"bk-collapse-title"},[s]),(0,r.createVNode)(a.AngleRight,{class:"bk-collapse-icon ".concat(u.value?"rotate-icon":"")},null)]))]),(0,r.createVNode)(n(),null,(i=t="if"!==e.renderDirective||u.value?(0,r.withDirectives)((0,r.createVNode)("div",{class:"bk-collapse-content ".concat(u.value?"active":"")},[e.content?e.content:"function"==typeof l.content?l.content(r.h):l.content]),[[r.vShow,u.value]]):"","function"==typeof i||"[object Object]"===Object.prototype.toString.call(i)&&!(0,r.isVNode)(i)?t:{default:function(){return[t]}}))])}}}),p=(0,r.defineComponent)({name:"Collapse",props:c,emits:["item-click","update:modelValue","after-leave","before-enter"],setup:function(e,o){var n=o.emit,a=o.slots,l=(0,r.ref)([]);(0,r.watch)((function(){return[e.modelValue]}),(function(){var r,o=e.modelValue;Array.isArray(o)?l.value=function(e){if(Array.isArray(e))return t(e)}(r=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,r):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():l.value=void 0!==o?[o]:[]}),{immediate:!0});var i=function(t){var r=t.name;if(e.accordion){var o=l.value.findIndex((function(e){return e===r}));o>=0?l.value.splice(o,1):l.value=[r]}else{var a=l.value.findIndex((function(e){return e===r}));a>=0?l.value.splice(a,1):l.value.push(r)}n("item-click",t),n("update:modelValue",l.value)};(0,r.provide)("localActiveItems",l),(0,r.provide)("handleItemClick",i);var c="bk-collapse-wrapper";if(!Array.isArray(e.list)||!e.list.length)return function(){return(0,r.createVNode)("div",{class:c},[(0,r.renderSlot)(a,"default",{props:{isList:!0}})])};var u=(0,r.computed)((function(){return(e.list||[]).map((function(e,t){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?{$index:t,name:e}:Object.assign({$index:t},e)}))}));return function(){return(0,r.createVNode)("div",{class:c},[u.value.map((function(t,o){var n,l,c,u=t[e.idFiled]||o,s=t[e.titleField];return a.title&&(s="function"==typeof a.title?a.title(t,o):a.title),a.default&&(s=null===(n=a.default)||void 0===n?void 0:n.call(a,t,o)),(0,r.createVNode)(d,{key:o,"item-click":i,disabled:t.disabled,name:u,isFormList:!0,title:s,content:null!==(c=null===(l=a.content)||void 0===l?void 0:l.call(a,t,o))&&void 0!==c?c:t[e.contentField]},null)}))])}}}),f=(0,e.withInstallProps)(p,{CollapsePanel:d})})(),i})()));