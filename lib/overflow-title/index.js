!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../shared"),require("vue"),require("../popover"));else if("function"==typeof define&&define.amd)define(["../shared","vue","../popover"],t);else{var n="object"==typeof exports?t(require("../shared"),require("vue"),require("../popover")):t(e["../shared"],e.vue,e["../popover"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,((e,t,n)=>(()=>{"use strict";var o={35:(e,t,n)=>{var o=n(9601),r=n.n(o),i=n(2609);n.n(i)()(r()).push([e.id,".text-ov {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.position-relative {\n  position: relative;\n}\n.position-absolute {\n  position: absolute;\n}\n",""])},2609:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var v=[].concat(e[c]);o&&a[v[0]]||(void 0!==i&&(void 0===v[5]||(v[1]="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {").concat(v[1],"}")),v[5]=i),n&&(v[2]?(v[1]="@media ".concat(v[2]," {").concat(v[1],"}"),v[2]=n):v[2]=n),r&&(v[4]?(v[1]="@supports (".concat(v[4],") {").concat(v[1],"}"),v[4]=r):v[4]="".concat(r)),t.push(v))}},t}},9601:e=>{e.exports=function(e){return e[1]}},5537:e=>{e.exports=n},4212:t=>{t.exports=e},748:e=>{e.exports=t}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return o[e](n,n.exports,i),n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{i.r(a),i.d(a,{OverflowTitle:()=>c,default:()=>d,getActualWidthByCanvas:()=>l,getActualWidthByDom:()=>u,overflowTitle:()=>v});var e=i(4212),t=i(748),n=i(5537),o=i.n(n);const r={content:String,type:{type:String,default:"title"},calType:{type:String,default:"dom"},resizeable:Boolean},l=function(e,t){var n=t.fontSize,o=void 0===n?14:n,r=t.fontFamily,i=void 0===r?"Microsoft YaHei":r,a=document.createElement("canvas").getContext("2d");a.font="".concat(o,"px ").concat(i);var l=a.measureText(e),u=Math.abs(l.actualBoundingBoxLeft)+Math.abs(l.actualBoundingBoxRight);return Math.max(l.width,u)},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;if(!n)return 0;var o=t||{},r=o.fontSize,i=o.fontFamily,a=document.createElement("div");a.style.cssText="position: absolute;left: -999em;top:-999em;z-index: -1;text-overflow: initial;\n    ".concat(r?"font-size:".concat(r," ;"):"","\n    ").concat(i?"font-family:".concat(i," "):"","\n  "),a.innerText=e,n.append(a);var l=a.clientWidth;return n.removeChild(a),l};i(35);const c=(0,t.defineComponent)({name:"OverflowTitle",props:r,setup:function(n,o){var r=o.slots,i=(0,t.ref)(null),a=(0,t.ref)(null),c=(0,t.ref)(!1),v=(0,t.shallowRef)(),d=(0,t.computed)((function(){var e;return n.content?n.content:null===(e=null==r?void 0:r.default)||void 0===e?void 0:e.call(r)}));return(0,t.onMounted)((function(){var o=i.value.clientWidth,r=(0,e.debounce)(500,(function(){var e,t,r;c.value=!1,v.value={};var f=0;if("dom"===n.calType)f=u(null===(e=a.value)||void 0===e?void 0:e.textContent,null,i.value);else{var s=getComputedStyle(i.value),p=s.fontSize,m=s.fontFamily;f=l(d.value,{fontSize:p,fontFamily:m})}f>o&&(c.value=!0,"title"===n.type&&(v.value={title:null!==(r=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.innerText)&&void 0!==r?r:n.content}))}));if(r(),n.resizeable){var f=new ResizeObserver(r);f.observe(i.value),(0,t.onUnmounted)((function(){f.unobserve(i.value),f.disconnect()}))}})),{boxRef:i,textRef:a,isShowTips:c,contentText:d,textProps:v}},render:function(){var e=this;return(0,t.createVNode)("div",{ref:"boxRef",class:"position-relative"},[(0,t.createVNode)(o(),{disabled:"title"===this.type},{default:function(){return(0,t.createVNode)("div",(0,t.mergeProps)({ref:"textRef",class:"text-ov"},e.textProps),[e.contentText])},content:function(){return e.contentText}})])}}),v={mounted:function(e,t){var n=t.value,o=void 0===n?{}:n,r=e.parentElement.clientWidth;if(r){var i=o.content,a=o.calType,c=void 0===a?"dom":a,v=i||e.innerText,d=0;if("dom"===c)d=u(e.textContent,null,e.parentElement);else{var f=getComputedStyle(e),s=f.fontSize,p=f.fontFamily;d=l(v,{fontSize:s,fontFamily:p})}d>r&&e.setAttribute("title",v)}}},d=(0,e.withInstall)(c)})(),a})()));