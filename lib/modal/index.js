!function(e,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o(require("../shared"),require("vue"),require("vue-types"));else if("function"==typeof define&&define.amd)define(["../shared","vue","vue-types"],o);else{var t="object"==typeof exports?o(require("../shared"),require("vue"),require("vue-types")):o(e["../shared"],e.vue,e["vue-types"]);for(var i in t)("object"==typeof exports?exports:e)[i]=t[i]}}(self,((e,o,t)=>(()=>{"use strict";var i={4212:o=>{o.exports=e},748:e=>{e.exports=o},210:e=>{e.exports=t}},s={};function r(e){var o=s[e];if(void 0!==o)return o.exports;var t=s[e]={exports:{}};return i[e](t,t.exports,r),t.exports}r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{BkModal:()=>a,default:()=>d,propsMixin:()=>s});var e,o=r(4212),t=r(748),i=r(210);!function(e){e.NORMAL="normal",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(e||(e={}));var s={isShow:o.PropTypes.bool.def(!1),width:o.PropTypes.oneOfType([String,Number]).def("50%"),height:o.PropTypes.oneOfType([String,Number]).def("50%"),extCls:o.PropTypes.string||o.PropTypes.array,scrollable:o.PropTypes.bool.def(!0),showMask:o.PropTypes.bool.def(!0),closeIcon:o.PropTypes.bool.def(!0),escClose:o.PropTypes.bool.def(!0),fullscreen:o.PropTypes.bool.def(!1),size:(0,i.toType)("size",{}),draggable:o.PropTypes.bool.def(!0),quickClose:o.PropTypes.bool.def(!0),transfer:o.PropTypes.bool.def(!1),zIndex:o.PropTypes.oneOfType([String,Number]).def("inherit"),maxHeight:o.PropTypes.string,direction:o.PropTypes.string,title:o.PropTypes.string.def(""),animateType:o.PropTypes.string.def("slide"),renderDirective:(0,o.renderDirectiveType)(),beforeClose:o.PropTypes.custom((function(){return!0})),dialogType:(0,o.dialogTypeUnion)(),multiInstance:o.PropTypes.bool.def(!0),infoType:o.PropTypes.theme()};const l=(0,t.defineComponent)({name:"Modal",props:Object.assign({},s),emits:["quick-close","quickClose","hidden","shown","close"],data:function(){return{visible:!1,closeTimer:null}},computed:{dialogWidth:function(){return/^\d+$/.test("".concat(this.width))?"".concat(this.width,"px"):this.width},dialogHeight:function(){return/^\d+$/.test("".concat(this.height))?"".concat(this.height,"px"):this.height},compStyle:function(){return{width:this.dialogWidth,height:this.dialogHeight,minHeigth:"".concat(200,"px"),display:this.visible?"inherit":"none",zIndex:this.zIndex||"inherit"}},fullscreenStyle:function(){return{width:"".concat(100,"%"),height:"".concat(100,"%")}}},watch:{isShow:{handler:function(e){var o=this;e?(this.closeTimer&&clearTimeout(this.closeTimer),this.closeTimer=null,this.visible=e):this.closeTimer=setTimeout((function(){o.$emit("hidden"),o.visible=e}),250)},immediate:!0},visible:{handler:function(e){var t=this;e?this.$nextTick((function(){o.bkPopIndexManager.onMaskClick((function(e){t.handleClickOutSide()}),t.$el);var e=t.showMask?{}:{"background-color":"rgba(0,0,0,0)"};o.bkPopIndexManager.show(t.$el,t.showMask,e,t.transfer,t.zIndex),t.$emit("shown")})):(null===o.bkPopIndexManager||void 0===o.bkPopIndexManager||o.bkPopIndexManager.hide(this.$el,this.transfer),null===o.bkPopIndexManager||void 0===o.bkPopIndexManager||o.bkPopIndexManager.destroy())},immediate:!0}},beforeUnmount:function(){this.visible&&(null===o.bkPopIndexManager||void 0===o.bkPopIndexManager||o.bkPopIndexManager.hide(this.$el),null===o.bkPopIndexManager||void 0===o.bkPopIndexManager||o.bkPopIndexManager.destroy())},methods:{handleClickOutSide:function(){this.quickClose&&(this.$emit("close"),this.$emit("quick-close",this.$el),this.$emit("quickClose",this.$el))}},render:function(){var e,i,s,r,n,l,a,d,c,p,h,u,f=this,m=this.maxHeight?{maxHeight:this.maxHeight}:{},y="".concat((0,o.resolveClassName)("modal-body")," ").concat("slide"===this.animateType?this.direction:"");return(0,t.createVNode)("div",{class:[(0,o.resolveClassName)("modal-wrapper"),this.extCls,this.size,this.fullscreen?"fullscreen":""],style:[this.compStyle,this.fullscreen?this.fullscreenStyle:""]},[(0,t.createVNode)(t.Transition,{name:this.animateType},{default:function(){return[f.isShow?(0,t.createVNode)("div",{class:y},[(0,t.createVNode)("div",{class:(0,o.resolveClassName)("modal-header")},[null!==(s=null===(i=(e=f.$slots).header)||void 0===i?void 0:i.call(e))&&void 0!==s?s:""]),(0,t.createVNode)("div",{class:(0,o.resolveClassName)("modal-content"),style:["show"===f.dialogType?"padding-bottom: 20px":"",Object.assign({},m)]},[null!==(l=null===(n=(r=f.$slots).default)||void 0===n?void 0:n.call(r))&&void 0!==l?l:""]),"show"===f.dialogType?"":(0,t.createVNode)("div",{class:(0,o.resolveClassName)("modal-footer")},[null!==(c=null===(d=(a=f.$slots).footer)||void 0===d?void 0:d.call(a))&&void 0!==c?c:""]),(0,t.createVNode)("div",{class:[(0,o.resolveClassName)("modal-close"),f.closeIcon?"":"close-icon"]},[null!==(u=null===(h=(p=f.$slots).close)||void 0===h?void 0:h.call(p))&&void 0!==u?u:""])]):""]}})])}});var a=(0,o.withInstallProps)(l,{propsMixin:s},!0);const d=a})(),n})()));