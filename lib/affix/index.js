!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../shared"),require("vue"),require("lodash"));else if("function"==typeof define&&define.amd)define(["../shared","vue","lodash"],t);else{var o="object"==typeof exports?t(require("../shared"),require("vue"),require("lodash")):t(e["../shared"],e.vue,e.lodash);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(self,((e,t,o)=>(()=>{"use strict";var n={4212:t=>{t.exports=e},467:e=>{e.exports=o},748:e=>{e.exports=t}},r={};function u(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,u),o.exports}u.d=(e,t)=>{for(var o in t)u.o(t,o)&&!u.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{u.r(l),u.d(l,{default:()=>i});var e=u(4212),t=u(748),o=u(467),n=document.addEventListener?function(e,t,o){e&&t&&o&&e.addEventListener(t,o,!0)}:function(e,t,o){e&&t&&o&&e.attachEvent("on".concat(t),o)},r=document.removeEventListener?function(e,t,o){e&&t&&e.removeEventListener(t,o,!0)}:function(e,t,o){e&&t&&e.detachEvent("on".concat(t),o)};const a=(0,t.defineComponent)({name:"Affix",props:{offsetTop:e.PropTypes.number.def(0),offsetBottom:e.PropTypes.number,target:e.PropTypes.string.def(""),zIndex:e.PropTypes.number.def(1e3)},emits:["change"],setup:function(u,l){var a=l.emit,i=l.slots,f=(0,t.ref)(null),c=(0,t.ref)(null),v=(0,t.ref)(),s=(0,t.ref)({}),d=(0,t.getCurrentInstance)().proxy,p=(0,t.ref)(0),m=(0,t.computed)((function(){return Object.assign(Object.assign({},s.value),{"z-index":u.zIndex})}));(0,t.onMounted)((function(){p.value=d.$el.offsetWidth,v.value=u.target?document.querySelector(u.target):window,n(v.value,"scroll",b),n(v.value,"resize",b),(0,t.nextTick)((function(){y()}))}));var g=(0,t.ref)(!1),w=(0,t.computed)((function(){return(0,e.classes)({"bk-affix":g.value})})),x=(0,t.computed)((function(){return u.offsetBottom>=0?"bottom":"top"})),h=function(){"top"===x.value?s.value={top:"".concat(v.value.getBoundingClientRect().top+u.offsetTop,"px")}:s.value={bottom:"".concat(window.innerHeight-v.value.getBoundingClientRect().bottom+u.offsetBottom,"px")}},b=(0,o.throttle)((function(){y()}),100),y=function(){var e=v.value===window?{top:0,left:0,bottom:window.innerHeight}:v.value.getBoundingClientRect(),t=function(e){var t=e.value.getBoundingClientRect(),o=v.value===window?{top:0,left:0}:v.value.getBoundingClientRect(),n=v.value.clientTop||0,r=v.value.clientLeft||0;return{top:t.top-o.top-n,left:t.left-o.left-r}}(c),o=v.value===window?v.value.innerHeight:v.value.clientHeight,r=f.value.offsetHeight;t.top<u.offsetTop&&"top"===x.value&&!g.value?(g.value=!0,s.value={position:"fixed",top:"".concat(e.top+u.offsetTop,"px"),left:"".concat(e.left+t.left,"px"),width:"".concat(p.value,"px")},v.value!==window&&n(window,"scroll",h),a("change",!0)):t.top>u.offsetTop&&"top"===x.value&&g.value&&(g.value=!1,s.value=null,a("change",!1)),t.top+u.offsetBottom+r>o&&"bottom"===x.value&&!g.value?(g.value=!0,s.value={bottom:"".concat(window.innerHeight-e.bottom+u.offsetBottom,"px"),left:"".concat(e.left+t.left,"px"),width:"".concat(p.value,"px")},v.value!==window&&n(window,"scroll",h),a("change",!0)):t.top+u.offsetBottom+r<o&&"bottom"===x.value&&g.value&&(g.value=!1,s.value=null,a("change",!1))};return(0,t.onBeforeUnmount)((function(){r(v.value,"scroll",b),r(v.value,"resize",b),r(window,"scroll",h)})),function(){var e;return(0,t.createVNode)("div",{ref:c},[(0,t.createVNode)("div",{ref:f,class:w.value,style:m.value},[null===(e=i.default)||void 0===e?void 0:e.call(i)])])}}}),i=(0,e.withInstall)(a)})(),l})()));