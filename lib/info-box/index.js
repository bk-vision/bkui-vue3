!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../shared"),require("vue"),require("../button"),require("../config-provider"),require("../icon"),require("../modal"));else if("function"==typeof define&&define.amd)define(["../shared","vue","../button","../config-provider","../icon","../modal"],t);else{var n="object"==typeof exports?t(require("../shared"),require("vue"),require("../button"),require("../config-provider"),require("../icon"),require("../modal")):t(e["../shared"],e.vue,e["../button"],e["../config-provider"],e["../icon"],e["../modal"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,((e,t,n,o,r,i)=>(()=>{var a={7162:(e,t,n)=>{e.exports=n(5047)},5047:e=>{var t=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),a=new j(o||[]);return i._invoke=function(e,t,n){var o=f;return function(r,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===r)throw i;return k()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var l=S(a,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=s(e,t,n);if("normal"===c.type){if(o=n.done?h:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function m(){}function y(){}function g(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(P([])));b&&b!==n&&o.call(b,i)&&(x=b);var T=g.prototype=m.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(r,i,a,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;this._invoke=function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}}function S(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=s(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:t,done:!0}}return y.prototype=g,c(T,"constructor",g),c(g,"constructor",y),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},N(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new C(u(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(T),c(T,l,"Generator"),c(T,i,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return l.type="throw",l.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:P(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},4976:e=>{"use strict";e.exports=n},2717:e=>{"use strict";e.exports=o},6870:e=>{"use strict";e.exports=r},8014:e=>{"use strict";e.exports=i},4212:t=>{"use strict";t.exports=e},748:e=>{"use strict";e.exports=t}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return a[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";c.r(u),c.d(u,{default:()=>m});var e=c(4212);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=c(7162),o=c.n(n);function r(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function l(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((o=o.apply(e,t||[])).next())}))}Object.create,Object.create;var i=c(748),a=c(4976),l=c.n(a),s=c(2717),f=c(6870),d=c(8014),p=c.n(d);const h=Object.assign(Object.assign({},d.propsMixin),{width:e.PropTypes.oneOfType([String,Number]).def(""),height:e.PropTypes.oneOfType([String,Number]).def(""),confirmText:e.PropTypes.string,cancelText:e.PropTypes.string,prevText:e.PropTypes.string,nextText:e.PropTypes.string,current:e.PropTypes.number.def(1),totalStep:e.PropTypes.number,title:e.PropTypes.string.def("title"),headerAlign:(0,e.alignType)().def(e.AlignEnum.LEFT),footerAlign:(0,e.alignType)().def(e.AlignEnum.RIGHT),theme:e.PropTypes.theme().def(e.ThemeEnum.PRIMARY),dialogType:(0,e.dialogTypeUnion)(),isLoading:e.PropTypes.bool.def(!1)}),v=(0,i.defineComponent)({name:"Dialog",components:{BkModal:p(),BkButton:l()},props:h,emits:["closed","update:isShow","confirm","prev","next","value-change"],setup:function(e,t){var n=t.emit,o=(0,s.useLocale)("dialog"),r=(0,i.computed)((function(){return void 0===e.confirmText?o.value.ok:e.confirmText})),a=(0,i.computed)((function(){return void 0===e.cancelText?o.value.cancel:e.cancelText})),l=(0,i.computed)((function(){return void 0===e.prevText?o.value.prev:e.prevText})),c=(0,i.computed)((function(){return void 0===e.nextText?o.value.next:e.nextText})),u=(0,i.reactive)({positionX:0,positionY:0,moveStyle:{top:"",left:""}}),f=(0,i.ref)(e.isShow);(0,i.onMounted)((function(){e.escClose&&addEventListener("keydown",h)})),(0,i.onBeforeUnmount)((function(){e.escClose&&removeEventListener("keydown",h)})),(0,i.watch)((function(){return e.isShow}),(function(e){e?f.value=!0:setTimeout((function(){u.moveStyle={top:"50%",left:"50%"},u.positionX=0,u.positionY=0,f.value=!1}),250),n("value-change",e)}));var d=function(){n("update:isShow",!1),n("closed"),f.value=!1},p=(0,i.computed)((function(){return["process","operation","confirm"].includes(e.dialogType)})),h=function(t){e.isShow&&e.closeIcon&&27===t.keyCode&&d()};return{data:u,handleClose:d,handleConfirm:function(){n("update:isShow",!1),n("confirm")},escCloseHandler:h,moveHandler:function(t){if(e.fullscreen)return!1;if(!e.draggable)return!1;var n,o,r=t.target,i=t.currentTarget.parentNode.parentNode.offsetHeight,a=t.currentTarget.parentNode.parentNode.offsetWidth;0!==u.positionX&&0!==u.positionY?(n=t.clientX-u.positionX,o=t.clientY-u.positionY):(n=t.clientX-r.offsetLeft,o=t.clientY-r.offsetTop),document.onmousemove=function(e){var t=window.innerWidth-a,r=window.innerHeight-i,l=e.clientX-n,c=e.clientY-o;t/2-l<=0?l=t/2:t/2+l<=0&&(l=-t/2),r/2-c<=0?c=r/2:r/2+c<=0&&(c=-r/2),u.positionX=l,u.positionY=c,u.moveStyle.left="calc(50% + ".concat(l,"px)"),u.moveStyle.top="calc(50% + ".concat(c,"px)")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},handlePrevStep:function(){n("prev")},handleNextStep:function(){n("next")},hasFooter:p,isModalShow:f,localConfirmText:r,localCancelText:a,localPrevText:l,localNextText:c}},render:function(){var t,n=this,o={header:function(){var t,o,r,a,l,c;return[(0,i.createVNode)("div",{class:[(0,e.resolveClassName)("dialog-tool"),n.fullscreen||!n.draggable?"":"move",n.draggable?"content-dragging":""],onMousedown:n.moveHandler},[null!==(r=null===(o=(t=n.$slots).tools)||void 0===o?void 0:o.call(t))&&void 0!==r?r:""]),(0,i.createVNode)("div",{class:(0,e.resolveClassName)("dialog-header")},[(0,i.createVNode)("div",{class:(0,e.resolveClassName)("header-icon")},[n.infoType?{loading:(0,i.createVNode)(f.Spinner,{class:[(0,e.resolveClassName)("info-icon"),"primary"]},null),warning:(0,i.createVNode)(f.Warn,{class:[(0,e.resolveClassName)("info-icon"),"warning"]},null),success:(0,i.createVNode)(f.Success,{class:[(0,e.resolveClassName)("info-icon"),"success"]},null),danger:(0,i.createVNode)(f.Close,{class:[(0,e.resolveClassName)("info-icon"),"danger"]},null)}[n.infoType]:(0,i.createVNode)("slot",{name:"info-icon"},null)]),(0,i.createVNode)("span",{class:(0,e.resolveClassName)("dialog-title"),style:"text-align: ".concat(n.headerAlign)},[null!==(c=null===(l=(a=n.$slots).header)||void 0===l?void 0:l.call(a))&&void 0!==c?c:n.title])])]},default:function(){var e,t,o;return null!==(o=null===(t=(e=n.$slots).default)||void 0===t?void 0:t.call(e))&&void 0!==o?o:"default"},footer:function(){var t,o,r,a,c,u,s,f,d;return(0,i.createVNode)("div",{class:(0,e.resolveClassName)("dialog-footer"),style:"text-align: ".concat(n.footerAlign)},["process"===n.dialogType?null!==(r=null===(o=(t=n.$slots).footer)||void 0===o?void 0:o.call(t))&&void 0!==r?r:(0,i.createVNode)(i.Fragment,null,[1===n.current?"":(0,i.createVNode)(l(),{class:(0,e.resolveClassName)("dialog-perv"),onClick:n.handlePrevStep},{default:function(){return[n.localPrevText]}}),n.current===n.totalStep?"":(0,i.createVNode)(l(),{class:(0,e.resolveClassName)("dialog-next"),onClick:n.handleNextStep},{default:function(){return[n.localNextText]}}),n.current===n.totalStep?(0,i.createVNode)(l(),{onClick:n.handleConfirm,theme:n.theme,loading:n.isLoading},{default:function(){return[n.localConfirmText]}}):"",(0,i.createVNode)(l(),{class:(0,e.resolveClassName)("dialog-cancel"),onClick:n.handleClose,disabled:n.isLoading},{default:function(){return[n.localCancelText]}})]):"","operation"===n.dialogType?null!==(u=null===(c=(a=n.$slots).footer)||void 0===c?void 0:c.call(a))&&void 0!==u?u:(0,i.createVNode)(i.Fragment,null,[(0,i.createVNode)(l(),{onClick:n.handleConfirm,theme:n.theme,loading:n.isLoading},{default:function(){return[n.localConfirmText]}}),(0,i.createVNode)(l(),{class:(0,e.resolveClassName)("dialog-cancel"),onClick:n.handleClose,disabled:n.isLoading},{default:function(){return[n.localCancelText]}})]):"","confirm"===n.dialogType?null!==(d=null===(f=(s=n.$slots).footer)||void 0===f?void 0:f.call(s))&&void 0!==d?d:(0,i.createVNode)(i.Fragment,null,[(0,i.createVNode)(l(),{onClick:n.handleConfirm,theme:n.theme,loading:n.isLoading},{default:function(){return[n.localConfirmText]}})]):""])},close:function(){return(0,i.createVNode)(f.Error,{onClick:n.handleClose},null)}},r="".concat((0,e.resolveClassName)("dialog-wrapper ")," ").concat(this.scrollable?"scroll-able":""," ").concat(this.multiInstance?"multi-instance":""," ").concat(this.hasFooter?"has-footer":"no-footer");return(0,i.createVNode)(p(),(0,i.mergeProps)(this.$props,{class:r,onClose:this.handleClose,isShow:this.isModalShow,style:this.data.moveStyle}),"function"==typeof(t=o)||"[object Object]"===Object.prototype.toString.call(t)&&!(0,i.isVNode)(t)?o:{default:function(){return[o]}})}}),m=(0,e.withInstall)((function(n){var a=document.createElement("div"),l=(0,i.ref)(!1),c=(0,i.shallowRef)(n),u=(0,i.defineComponent)({name:"DialogConfirm",setup:function(n,a){var u=this,s=a.expose;(0,i.onMounted)((function(){(document.activeElement||document.body).blur(),!1!==c.value.isShow&&(l.value=!0)}));var f=function(){return r(u,void 0,void 0,o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(null===(t=c.value)||void 0===t?void 0:t.onClosed)){e.next=3;break}return e.next=3,null===(n=c.value)||void 0===n?void 0:n.onClosed();case 3:l.value=!1;case 4:case"end":return e.stop()}}),e)})))},d=function(){return r(u,void 0,void 0,o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(null===(t=c.value)||void 0===t?void 0:t.onConfirm)){e.next=3;break}return e.next=3,null===(n=c.value)||void 0===n?void 0:n.onConfirm();case 3:l.value=!1;case 4:case"end":return e.stop()}}),e)})))};return s({update:function(e){c.value=e}}),function(){return(0,i.createVNode)(v,Object.assign(Object.assign({class:(0,e.resolveClassName)("info-wrapper"),headerAlign:"center",footerAlign:"center"},c.value),{isShow:l.value,onClosed:f,onConfirm:d}),function(){var n=[],o=[];if(c.value.subTitle)switch(t(c.value.subTitle)){case"string":default:n.push(c.value.subTitle);break;case"function":n.push(c.value.subTitle())}return n.length&&o.push((0,i.h)("div",{class:(0,e.resolveClassName)("info-sub-title"),style:"text-Align:".concat(c.value.contentAlign||"center")},n)),o}())}}}),s=(0,i.createApp)(u).mount(a);return{show:function(){l.value=!0},hide:function(){l.value=!1},update:function(e){s.update(e)},destroy:function(){s.unmount(),s=null}}}))})(),u})()));