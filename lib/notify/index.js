!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("vue"),require("../shared"),require("vue-types"),require("../icon"));else if("function"==typeof define&&define.amd)define(["vue","../shared","vue-types","../icon"],t);else{var o="object"==typeof exports?t(require("vue"),require("../shared"),require("vue-types"),require("../icon")):t(e.vue,e["../shared"],e["vue-types"],e["../icon"]);for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(self,((e,t,o,r)=>(()=>{"use strict";var n={6870:e=>{e.exports=r},4212:e=>{e.exports=t},748:t=>{t.exports=e},210:e=>{e.exports=o}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return n[e](o,o.exports,i),o.exports}i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{i.r(a),i.d(a,{default:()=>l});var e=i(748),t=i(4212),o={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},r=1;function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s,f=i(210),u=i(6870);!function(e){e.PRIMARY="primary",e.WARNING="warning",e.SUCCESS="success",e.ERROR="error"}(s||(s={}));var p={id:t.PropTypes.string.def(""),title:t.PropTypes.string.def(""),message:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]).def(""),theme:(0,f.toType)("notifyTheme",{}).def(s.PRIMARY),position:t.PropTypes.position().def("top-right"),delay:t.PropTypes.number.def(5e3),dismissable:t.PropTypes.bool.def(!0),offsetX:t.PropTypes.number.def(100),offsetY:t.PropTypes.number.def(30),spacing:t.PropTypes.number.def(10),extCls:t.PropTypes.string.def(""),onClose:t.PropTypes.func};const c=(0,e.defineComponent)({name:"Notify",props:p,emits:["destroy"],setup:function(o,r){var s=r.emit,i=t.bkZIndexManager.getMessageNextIndex(),a=(0,e.computed)((function(){return o.position.indexOf("right")>1?"right":"left"})),f=(0,e.computed)((function(){return o.position.startsWith("top")?"top":"bottom"})),u=(0,e.computed)((function(){var e;return n(e={},a.value,"".concat(o.offsetX,"px")),n(e,f.value,"".concat(o.offsetY,"px")),n(e,"zIndex",i),e})),p=(0,e.computed)((function(){return["bk-notify","bk-notify-".concat(o.theme),a.value]})),c=(0,e.computed)((function(){return"function"==typeof o.message?o.message():o.message})),l=(0,e.ref)(!1),d=null;return(0,e.onMounted)((function(){o.delay&&(d=setTimeout((function(){l.value=!1}),o.delay)),l.value=!0})),(0,e.onUnmounted)((function(){clearTimeout(d)})),(0,e.watch)(l,(function(){l.value||s("destroy",o.id)})),{classNames:p,styles:u,visible:l,renderMessage:c,handleClose:function(){l.value=!1}}},render:function(){var t=this;return(0,e.createVNode)(e.Transition,{name:"bk-notify-fade"},{default:function(){return[(0,e.withDirectives)((0,e.createVNode)("div",{class:t.classNames,style:t.styles},[(0,e.createVNode)("div",{class:"bk-notify-content"},[(0,e.createVNode)("div",{class:"bk-notify-icon"},[{primary:(0,e.createVNode)(u.Info,null,null),warning:(0,e.createVNode)(u.Warn,null,null),success:(0,e.createVNode)(u.Success,null,null),error:(0,e.createVNode)(u.Close,null,null)}[t.theme]]),t.title?(0,e.createVNode)("div",{class:"bk-notify-content-header"},[t.title]):"",(0,e.createVNode)("div",{class:"bk-notify-content-text"},[t.renderMessage])]),t.dismissable&&(0,e.createVNode)(u.Error,{class:"bk-notify-icon bk-notify-close",onClick:t.handleClose},null)]),[[e.vShow,t.visible]])]}})}}),l=function(n){!function(n,s){var i=s,a=i.position||"top-right";"string"==typeof s&&(i={message:s});var f=s.onClose,u=i.offsetX||10,p=i.offsetY||30,c=i.spacing,l=void 0===c?10:c;o[a].forEach((function(e){p+=(e.el.offsetHeight||0)+l}));var d="message_".concat(r+=1);i=Object.assign(Object.assign({},i),{offsetX:u,offsetY:p,id:d});var y=document.createElement("div"),m=(0,e.createVNode)(n,i);m.props.onDestroy=function(t){!function(e,t,r,n){null==n||n();var s=t.startsWith("top")?"top":"bottom",i=-1;o[t].forEach((function(t,o){t.props.id===e&&(i=o)}));for(var a=o[t][i].el.offsetHeight,f=o[t].length,u=i;u<f;u++){var p=parseInt(o[t][u].el.style[s],10)-a-r;o[t][u].component.props.offsetY=p}o[t].splice(i,1)}(t,a,l,f),(0,e.render)(null,y)},(0,e.render)(m,y),o[a].push(m),(m.props.getContainer&&(0,t.isElement)(m.props.getContainer)?m.props.getContainer:document.body).appendChild(y.firstElementChild)}(c,n)}})(),a})()));